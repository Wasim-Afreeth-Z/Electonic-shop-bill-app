<section class="bg-slate-100 min-h-[100%] flex flex-col justify-between">
    <div>
        <h1 class="text-[19px] font-medium px-5 pt-3 pb-4 ">Products list</h1>
        <div class="bg-white mx-5 px-5 py-5 rounded-lg">
            <div class="filter flex mb-6">
                <input type="search" class="border-[1px] rounded-md placeholder:text-sm px-3 py-[11px] outline-none"
                    placeholder="Search for..." [(ngModel)]="search" (input)="searchFilter($event)">

                <!-- category filter -->
                <div class="filter-section flex w-full justify-between">
                    <div class="filter-section-2 flex">
                        <div class="category ml-3 flex items-center">
                            <mat-form-field>
                                <mat-label>Catagory</mat-label>
                                <mat-select [(ngModel)]="categoryId" (valueChange)="filterCategory($event)">
                                    @for (category of categorylist; track $index) {
                                    <mat-option [value]="category.id">{{category.name}}</mat-option>
                                    }
                                </mat-select>
                            </mat-form-field>
                            @if (categoryId!=null) {
                            <div (click)="clearCategoryFilter()"
                                class="ml-1.5 text-2xl text-gray-400 hover:text-red-600"><i
                                    class="fa-sharp fa-solid fa-circle-xmark"></i></div>
                            }
                        </div>

                        <!-- brand filter -->
                        <div class="brand ml-3 flex items-center">
                            <mat-form-field>
                                <mat-label>Brand</mat-label>
                                <mat-select [(ngModel)]="brandId" (valueChange)="filterBrand($event)">
                                    @for (brand of brandlist; track $index) {
                                    <mat-option [value]="brand.id">{{brand.name}}</mat-option>
                                    }
                                </mat-select>
                            </mat-form-field>
                            @if (brandId!=null) {
                            <div (click)="clearBrandFilter()" class="ml-1.5 text-2xl text-gray-400 hover:text-red-600">
                                <i class="fa-sharp fa-solid fa-circle-xmark"></i>
                            </div>
                            }
                        </div>
                    </div>
                    <button routerLink="/pos" class="bg-[#1A98F5] hover:bg-sky-400 text-white px-4 rounded-xl ml-10 ">POS</button>
                </div>
            </div>

            <div class=" overflow-y-scroll max-h-[400px]">
                <table class="w-full min-w-[900px]">
                    <thead class="w-full sticky top-0 bg-slate-100 border-b-[1px] border-[#e5e7eb] ml-2">
                        <th class="pl-4">S.No</th>
                        <th>Product name</th>
                        <th>Catagory</th>
                        <th>SubCatagory</th>
                        <th>Brand</th>
                        <th>Warrenty</th>
                    </thead>
                    <tbody>
                        @for (product of productlist; track $index) {

                        <tr class=" border-b-[1px] border-[#e5e7eb]">
                            <td class="pl-4">{{$index+1}}</td>
                            <td class="flex items-center gap-2">@if(product.length > 0){
                                {{product.images[1]}}
                                }@else{
                                <div class="text-xl"><i class="fa-solid fa-image-slash"></i></div>
                                }
                                {{product.modelName}}
                            </td>
                            <td>
                                <p
                                    class="bg-slate-100 text-slate-500 border-slate-200 inline px-2 py-1.5 rounded-md text-sm">
                                    {{product.categoryName}}</p>
                            </td>
                            <td>{{product.subCategoryName!=null?product.subCategoryName:'-'}}</td>
                            <td>{{product.brandName}}</td>
                            <td>{{product.warrentyName!=null?product.warrentyName:'-'}}</td>
                        </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class=" w-full">
        <div class="w-full h-[1px] bg-[#e5e7eb] mt-5"></div>
        <div class="flex justify-between footer">
            <p class="para-1 text-slate-400 pl-5 py-4 text-sm font-normal ">2024 Â© Wasim</p>
            <p class="para-2 text-slate-400 pr-5 py-4 text-sm font-normal ">Design & Develop by Wasim Afreeth</p>
        </div>
    </div>
</section>